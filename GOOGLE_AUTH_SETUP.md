# –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ Google OAuth 2.0 –¥–ª—è Bazarlar Online

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ
1. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud Console](#—á–∞—Å—Ç—å-1-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-google-cloud-console)
2. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend (React)](#—á–∞—Å—Ç—å-2-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-frontend-react)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend (FastAPI)](#—á–∞—Å—Ç—å-3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-backend-fastapi)
4. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—á–∞—Å—Ç—å-4-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
5. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫](#—á–∞—Å—Ç—å-5-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–Ω–µ–ø–æ–ª–∞–¥–æ–∫)

---

## –ß–∞—Å—Ç—å 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Google Cloud Console

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [Google Cloud Console](https://console.cloud.google.com/)
2. –í –≤–µ—Ä—Ö–Ω–µ–º –ª–µ–≤–æ–º —É–≥–ª—É –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ –≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫ —Å –Ω–∞–∑–≤–∞–Ω–∏–µ–º –ø—Ä–æ–µ–∫—Ç–∞
3. –ù–∞–∂–º–∏—Ç–µ **"New Project"** (–°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç)
4. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞: **Bazarlar Online**
5. –ù–∞–∂–º–∏—Ç–µ **"Create"** (–°–æ–∑–¥–∞—Ç—å)
6. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–∫—É–Ω–¥)

### –®–∞–≥ 2: –í–∫–ª—é—á–µ–Ω–∏–µ Google Identity API

1. –í –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é –≤—ã–±–µ—Ä–∏—Ç–µ **"APIs & Services"** ‚Üí **"Library"**
2. –í –ø–æ–∏—Å–∫–æ–≤–æ–π —Å—Ç—Ä–æ–∫–µ –≤–≤–µ–¥–∏—Ç–µ: **"Google Identity"**
3. –ù–∞–π–¥–∏—Ç–µ **"Google Identity Toolkit API"** –∏–ª–∏ **"Google+ API"**
4. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ–≥–æ –∏ –∑–∞—Ç–µ–º –Ω–∞–∂–º–∏—Ç–µ **"Enable"** (–í–∫–ª—é—á–∏—Ç—å)

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth Consent Screen (–≠–∫—Ä–∞–Ω —Å–æ–≥–ª–∞—Å–∏—è)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"APIs & Services"** ‚Üí **"OAuth consent screen"**
2. –í—ã–±–µ—Ä–∏—Ç–µ **"External"** (–µ—Å–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
3. –ù–∞–∂–º–∏—Ç–µ **"Create"**

#### –ó–∞–ø–æ–ª–Ω–∏—Ç–µ App Information:
- **App name**: `Bazarlar Online`
- **User support email**: –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à email –∏–∑ —Å–ø–∏—Å–∫–∞
- **App logo**: (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∑–∞–≥—Ä—É–∑–∏—Ç–µ –ª–æ–≥–æ—Ç–∏–ø 120x120px
- **Application home page**: `http://localhost:3000` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
- **Application privacy policy link**: `http://localhost:3000/documents#privacy`
- **Application terms of service link**: `http://localhost:3000/documents#terms`
- **Authorized domains**:
  - `localhost` (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
  - `bazarlar.online` (–¥–ª—è production - –¥–æ–±–∞–≤–∏—Ç–µ –ø–æ–∑–∂–µ)
- **Developer contact email**: –≤–∞—à email

4. –ù–∞–∂–º–∏—Ç–µ **"Save and Continue"**

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Scopes (–û–±–ª–∞—Å—Ç–∏ –¥–æ—Å—Ç—É–ø–∞):
1. –ù–∞–∂–º–∏—Ç–µ **"Add or Remove Scopes"**
2. –ù–∞–π–¥–∏—Ç–µ –∏ –æ—Ç–º–µ—Ç—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ scopes:
   - ‚úÖ `.../auth/userinfo.email` - –ü—Ä–æ—Å–º–æ—Ç—Ä email –∞–¥—Ä–µ—Å–∞
   - ‚úÖ `.../auth/userinfo.profile` - –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–∏—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
   - ‚úÖ `openid` - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ OpenID Connect
3. –ù–∞–∂–º–∏—Ç–µ **"Update"** –∏ –∑–∞—Ç–µ–º **"Save and Continue"**

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏):
1. –ù–∞–∂–º–∏—Ç–µ **"Add Users"**
2. –í–≤–µ–¥–∏—Ç–µ email –∞–¥—Ä–µ—Å–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤/—Ç–µ—Å—Ç–∏—Ä–æ–≤—â–∏–∫–æ–≤ (–¥–æ 100 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
3. –ù–∞–∂–º–∏—Ç–µ **"Add"** –∏ –∑–∞—Ç–µ–º **"Save and Continue"**
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ –Ω–∞–∂–º–∏—Ç–µ **"Back to Dashboard"**

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ü–æ–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Å—Ç–∞—Ç—É—Å–µ "Testing", –≤–æ–π—Ç–∏ —Å–º–æ–≥—É—Ç —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏. –î–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–æ–π—Ç–∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é Google.

### –®–∞–≥ 4: –°–æ–∑–¥–∞–Ω–∏–µ OAuth 2.0 Client ID (Credentials)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **"APIs & Services"** ‚Üí **"Credentials"**
2. –ù–∞–∂–º–∏—Ç–µ **"+ Create Credentials"** ‚Üí **"OAuth client ID"**
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è: **"Web application"**

#### –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:

**Name (–ù–∞–∑–≤–∞–Ω–∏–µ)**:
```
Bazarlar Online Web Client
```

**Authorized JavaScript origins (–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ JavaScript)**:
```
http://localhost:3000
http://localhost:8000
```

–î–ª—è production –¥–æ–±–∞–≤–∏—Ç–µ –ø–æ–∑–∂–µ:
```
https://bazarlar.online
https://api.bazarlar.online
```

**Authorized redirect URIs (–†–∞–∑—Ä–µ—à–µ–Ω–Ω—ã–µ URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è)**:
```
http://localhost:3000/login
http://localhost:8000/api/v1/auth/google/callback
```

–î–ª—è production –¥–æ–±–∞–≤–∏—Ç–µ –ø–æ–∑–∂–µ:
```
https://bazarlar.online/login
https://api.bazarlar.online/api/v1/auth/google/callback
```

4. –ù–∞–∂–º–∏—Ç–µ **"Create"**

#### üîë –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

–ü–æ—è–≤–∏—Ç—Å—è –æ–∫–Ω–æ —Å –¥–≤—É–º—è –∫–ª—é—á–∞–º–∏:
- **Client ID**: –¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Ç–∏–ø–∞ `123456789012-abc...xyz.apps.googleusercontent.com`
- **Client Secret**: —Å—Ç—Ä–æ–∫–∞ —Ç–∏–ø–∞ `GOCSPX-abc...xyz`

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –æ–±–∞ –∫–ª—é—á–∞!** –û–Ω–∏ –ø–æ–Ω–∞–¥–æ–±—è—Ç—Å—è –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ frontend –∏ backend.

---

## –ß–∞—Å—Ç—å 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Frontend (React)

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–§–∞–π–ª `.env` —É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ `/home/user/bazarlaronline/frontend/.env`.

–û—Ç–∫—Ä–æ–π—Ç–µ –µ–≥–æ –∏ –∑–∞–º–µ–Ω–∏—Ç–µ `YOUR_GOOGLE_CLIENT_ID_HERE` –Ω–∞ **—Ä–µ–∞–ª—å–Ω—ã–π Client ID** –∏–∑ Google Cloud Console:

```bash
# API Configuration
REACT_APP_API_URL=http://localhost:8000

# Google OAuth 2.0
REACT_APP_GOOGLE_CLIENT_ID=123456789012-abc...xyz.apps.googleusercontent.com
```

> ‚ö†Ô∏è **–í–∞–∂–Ω–æ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ **Client ID**, –ù–ï Client Secret! Client Secret –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ backend.

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

–í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:
- ‚úÖ `src/components/auth/GoogleLoginButton.tsx` - –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Google
- ‚úÖ `src/pages/LoginPage.tsx` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
- ‚úÖ `src/services/api.ts` - API —ç–Ω–¥–ø–æ–∏–Ω—Ç `authAPI.googleAuth()`

### –®–∞–≥ 3: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```bash
cd /home/user/bazarlaronline/frontend
npm start
```

---

## –ß–∞—Å—Ç—å 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Backend (FastAPI)

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ `requirements.txt` –µ—Å—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

```txt
google-auth==2.23.0
google-auth-oauthlib==1.1.0
google-auth-httplib2==0.1.1
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
cd /home/user/bazarlaronline/backend
pip install -r requirements.txt
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ backend –ø—Ä–æ–µ–∫—Ç–∞:

```bash
# Database
DATABASE_URL=postgresql://user:password@localhost/bazarlar_db

# JWT Settings
JWT_SECRET_KEY=–≤–∞—à_—Å–µ–∫—Ä–µ—Ç–Ω—ã–π_–∫–ª—é—á_–º–∏–Ω–∏–º—É–º_32_—Å–∏–º–≤–æ–ª–∞
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# Google OAuth 2.0
GOOGLE_CLIENT_ID=123456789012-abc...xyz.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-abc...xyz

# CORS Origins
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8000"]
```

> üîë **–í–∞–∂–Ω–æ**:
> - `GOOGLE_CLIENT_ID` - —ç—Ç–æ —Ç–æ—Ç –∂–µ Client ID, —á—Ç–æ –∏ –≤–æ frontend
> - `GOOGLE_CLIENT_SECRET` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –Ω–∞ backend –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–æ–∫–µ–Ω–æ–≤
> - –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ `.env` —Ñ–∞–π–ª –≤ git!

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ backend —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ backend —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

#### `/api/v1/auth/google` (POST)
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç Google ID token –æ—Ç frontend –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã:

```python
@router.post("/google")
async def google_auth(token: str):
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ —á–µ—Ä–µ–∑ Google API
    # 2. –ü–æ–ª—É—á–µ–Ω–∏–µ user info (email, name, picture)
    # 3. –°–æ–∑–¥–∞–Ω–∏–µ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –ë–î
    # 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JWT access_token –∏ refresh_token
    # 5. –í–æ–∑–≤—Ä–∞—Ç —Ç–æ–∫–µ–Ω–æ–≤
    return {
        "access_token": "...",
        "refresh_token": "...",
        "token_type": "bearer"
    }
```

#### `/api/v1/auth/me` (GET)
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –ø–æ JWT —Ç–æ–∫–µ–Ω—É.

### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ backend

```bash
cd /home/user/bazarlaronline/backend
uvicorn main:app --reload --host 0.0.0.0 --port 8000
```

---

## –ß–∞—Å—Ç—å 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ –±—Ä–∞—É–∑–µ—Ä –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `http://localhost:3000`
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/login`
3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –∫–Ω–æ–ø–∫—É **"–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"**

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞

–û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools (F12) ‚Üí Console. –ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ —Ç–∏–ø–∞:
- ‚ùå `Invalid client_id`
- ‚ùå `Client ID not found`

### –®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–∞

1. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ Google"**
2. –î–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è –≤—Å–ø–ª—ã–≤–∞—é—â–µ–µ –æ–∫–Ω–æ Google (One Tap –∏–ª–∏ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ)
3. –í—ã–±–µ—Ä–∏—Ç–µ –∞–∫–∫–∞—É–Ω—Ç Google (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
4. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

–û—Ç–∫—Ä–æ–π—Ç–µ Developer Tools ‚Üí Application ‚Üí Local Storage ‚Üí `http://localhost:3000`

–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã:
- ‚úÖ `access_token` - JWT —Ç–æ–∫–µ–Ω
- ‚úÖ `refresh_token` - Refresh —Ç–æ–∫–µ–Ω

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∫–∞ backend –ª–æ–≥–æ–≤

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ —Å –∑–∞–ø—É—â–µ–Ω–Ω—ã–º backend –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
INFO: POST /api/v1/auth/google - 200 OK
INFO: GET /api/v1/auth/me - 200 OK
```

---

## –ß–∞—Å—Ç—å 5: –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### ‚ùå –û—à–∏–±–∫–∞: "Invalid client_id"

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Client ID –≤ `.env` —Ñ–∞–π–ª–µ

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ `frontend/.env` —É–∫–∞–∑–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Client ID –∏–∑ Google Cloud Console
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Client ID –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ `.apps.googleusercontent.com`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `npm start`

### ‚ùå –û—à–∏–±–∫–∞: "Not a valid origin for the client"

**–ü—Ä–∏—á–∏–Ω–∞**: `http://localhost:3000` –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Authorized JavaScript origins

**–†–µ—à–µ–Ω–∏–µ**:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Google Cloud Console ‚Üí APIs & Services ‚Üí Credentials
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∞—à OAuth 2.0 Client ID
3. –í —Ä–∞–∑–¥–µ–ª–µ "Authorized JavaScript origins" –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   http://localhost:3000
   ```
4. –ù–∞–∂–º–∏—Ç–µ "Save"
5. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

### ‚ùå –û—à–∏–±–∫–∞: "Access blocked: This app's request is invalid"

**–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω OAuth Consent Screen

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ OAuth consent screen
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è (App name, User support email, Developer email)
3. –î–æ–±–∞–≤—å—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ scopes
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### ‚ùå –û—à–∏–±–∫–∞: "This app isn't verified"

**–ü—Ä–∏—á–∏–Ω–∞**: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ä–µ–∂–∏–º–µ "Testing" –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤ —Å–ø–∏—Å–∫–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö

**–†–µ—à–µ–Ω–∏–µ**:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ OAuth consent screen ‚Üí Test users
2. –î–æ–±–∞–≤—å—Ç–µ email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. –ò–ª–∏ –æ–ø—É–±–ª–∏–∫—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è Google)

### ‚ùå Backend –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 401 Unauthorized

**–ü—Ä–∏—á–∏–Ω–∞**: Google ID token –Ω–µ –ø—Ä–æ—à–µ–ª –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞ backend

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `GOOGLE_CLIENT_ID` –≤ backend `.env` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å frontend
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `google-auth`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–π –æ—à–∏–±–∫–∏

### ‚ùå CORS –æ—à–∏–±–∫–∞

**–ü—Ä–∏—á–∏–Ω–∞**: Backend –Ω–µ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å `http://localhost:3000`

**–†–µ—à–µ–Ω–∏–µ**:
1. –î–æ–±–∞–≤—å—Ç–µ –≤ backend `.env`:
   ```
   CORS_ORIGINS=["http://localhost:3000"]
   ```
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ CORS middleware –Ω–∞—Å—Ç—Ä–æ–µ–Ω –≤ FastAPI:
   ```python
   from fastapi.middleware.cors import CORSMiddleware

   app.add_middleware(
       CORSMiddleware,
       allow_origins=["http://localhost:3000"],
       allow_credentials=True,
       allow_methods=["*"],
       allow_headers=["*"],
   )
   ```

### üîç –û—Ç–ª–∞–¥–∫–∞: –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–æ–∫–µ–Ω–∞

–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –º–æ–∂–Ω–æ –¥–µ–∫–æ–¥–∏—Ä–æ–≤–∞—Ç—å Google ID token –Ω–∞ —Å–∞–π—Ç–µ [jwt.io](https://jwt.io/)

–¢–æ–∫–µ–Ω —Å–æ–¥–µ—Ä–∂–∏—Ç:
- `email` - Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `name` - –ü–æ–ª–Ω–æ–µ –∏–º—è
- `picture` - URL —Ñ–æ—Ç–æ –ø—Ä–æ—Ñ–∏–ª—è
- `sub` - –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Google

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ         ‚îÇ          ‚îÇ         ‚îÇ          ‚îÇ         ‚îÇ          ‚îÇ         ‚îÇ
‚îÇ  User   ‚îÇ‚îÄ‚îÄclick‚îÄ‚îÄ‚ñ∂‚îÇ Google  ‚îÇ‚îÄ‚îÄtoken‚îÄ‚îÄ‚ñ∂‚îÇ Backend ‚îÇ‚îÄ‚îÄJWT‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇFrontend ‚îÇ
‚îÇ         ‚îÇ          ‚îÇ  OAuth  ‚îÇ          ‚îÇ   API   ‚îÇ          ‚îÇ         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                          ‚îÇ                     ‚îÇ
                          ‚îÇ                     ‚îÇ
                          ‚ñº                     ‚ñº
                    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                    ‚îÇ Google  ‚îÇ          ‚îÇDatabase ‚îÇ
                    ‚îÇIdentity ‚îÇ          ‚îÇ(Users)  ‚îÇ
                    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

1. **Client Secret** –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ frontend –∫–æ–¥–µ
2. **JWT —Ç–æ–∫–µ–Ω—ã** —Ö—Ä–∞–Ω–∏—Ç–µ –≤ `localStorage` –∏–ª–∏ `httpOnly cookies`
3. **Refresh —Ç–æ–∫–µ–Ω—ã** –∏–º–µ—é—Ç –±–æ–ª–µ–µ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–π —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
4. **Access —Ç–æ–∫–µ–Ω—ã** –∫–æ—Ä–æ—Ç–∫–∏–π TTL (30 –º–∏–Ω—É—Ç)
5. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ **HTTPS** –≤ production

### –ü–µ—Ä–µ—Ö–æ–¥ –≤ Production

–ö–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –¥–µ–ø–ª–æ–∏—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω:

1. –î–æ–±–∞–≤—å—Ç–µ –≤ Google Cloud Console:
   - Authorized JavaScript origins: `https://bazarlar.online`
   - Authorized redirect URIs: `https://bazarlar.online/login`

2. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª—ã:
   - Frontend: `REACT_APP_API_URL=https://api.bazarlar.online`
   - Backend: `CORS_ORIGINS=["https://bazarlar.online"]`

3. –û–ø—É–±–ª–∏–∫—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (OAuth Consent Screen ‚Üí Publish):
   - –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ Google
   - –ü—Ä–æ—Ü–µ—Å—Å –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–Ω–µ–π

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

- [ ] Google Cloud project —Å–æ–∑–¥–∞–Ω
- [ ] OAuth Consent Screen –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] OAuth 2.0 Client ID —Å–æ–∑–¥–∞–Ω
- [ ] Client ID –∏ Secret —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- [ ] Frontend `.env` –æ–±–Ω–æ–≤–ª–µ–Ω —Å Client ID
- [ ] Backend `.env` –æ–±–Ω–æ–≤–ª–µ–Ω —Å Client ID –∏ Secret
- [ ] –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã
- [ ] Frontend –∑–∞–ø—É—â–µ–Ω (`npm start`)
- [ ] Backend –∑–∞–ø—É—â–µ–Ω (`uvicorn main:app --reload`)
- [ ] –í—Ö–æ–¥ —á–µ—Ä–µ–∑ Google —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–æ–∫–µ–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ localStorage
- [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12 ‚Üí Console)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Google Cloud Console
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ `.env` —Ñ–∞–π–ª—ã —Å–æ–¥–µ—Ä–∂–∞—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–ª—é—á–∏

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Google**:
- [Google Identity Services](https://developers.google.com/identity/gsi/web/guides/overview)
- [OAuth 2.0](https://developers.google.com/identity/protocols/oauth2)
- [Backend verification](https://developers.google.com/identity/gsi/web/guides/verify-google-id-token)

---

**–ì–æ—Ç–æ–≤–æ! üéâ** –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ Google OAuth 2.0.
